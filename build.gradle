buildscript {
  repositories {
    mavenLocal()
    mavenCentral()
  }
  dependencies {
    classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.10'
  }
}

plugins {
    id 'application'
}

apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'com.google.protobuf'

repositories {
  mavenLocal()
  mavenCentral()
}

idea {
  module {
    sourceDirs += file('build/generated/source/proto')
    // build is excluded by default, but must be included to find the proto classes
    excludeDirs -= file('build')
  }
}

dependencies {
  compile 'org.apache.hadoop:hadoop-client:2.6.0'
  compile 'org.apache.parquet:parquet-avro:1.10.1'
  compile 'org.apache.avro:avro:1.9.0'
  compile 'org.apache.avro:avro-protobuf:1.9.0'
  compile 'com.google.protobuf:protobuf-java:3.9.1'

  testCompile 'junit:junit:4.12'
}

application {
    mainClassName = 'com.example.ProtobufToParquet'
}